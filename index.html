<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xpert - ë°ì´í„° í˜‘ì—… ì›Œí¬ìŠ¤í˜ì´ìŠ¤</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f8f9fa;
            color: #2c2c2c;
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* í—¤ë” */
        .header {
            background: white;
            border-bottom: 2px solid #e9ecef;
            padding: 20px 32px;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 32px;
            font-weight: 800;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .progress-flow {
            display: flex;
            gap: 24px;
            align-items: center;
        }

        .step-indicator {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 8px 16px;
            border-radius: 24px;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .step-indicator.completed {
            background: #34c759;
            color: white;
        }

        .step-indicator.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            transform: scale(1.05);
        }

        .step-indicator.pending {
            background: #f1f3f4;
            color: #6e6e73;
        }

        .step-number {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: rgba(255,255,255,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 700;
        }

        /* ë©”ì¸ ì½˜í…ì¸  */
        .main-content {
            flex: 1;
            margin-top: 100px;
            padding: 0;
            max-width: none;
            margin-left: 0;
            margin-right: 0;
            width: 100%;
        }

        /* ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì»¨í…Œì´ë„ˆ */
        .workspace-container {
            background: white;
            border-radius: 0;
            box-shadow: none;
            margin-bottom: 0;
            overflow: hidden;
            height: calc(100vh - 120px);
            display: flex;
            flex-direction: column;
        }

        .workspace-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 32px 40px;
            border-bottom: 1px solid #e9ecef;
            background: linear-gradient(135deg, #f8f9ff 0%, #ffffff 100%);
        }

        .workspace-title {
            font-size: 28px;
            font-weight: 700;
            color: #1d1d1f;
            margin-bottom: 8px;
        }

        .workspace-subtitle {
            font-size: 16px;
            color: #6e6e73;
        }

        .workspace-stats {
            display: flex;
            gap: 24px;
            align-items: center;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: #667eea;
        }

        .stat-label {
            font-size: 12px;
            color: #6e6e73;
            margin-top: 4px;
        }

        /* í˜‘ì—… ì›Œí¬ìŠ¤í˜ì´ìŠ¤ */
        .collaboration-workspace {
            display: grid;
            grid-template-columns: 1fr;
            flex: 1;
            overflow: hidden;
        }

        .collaboration-workspace.with-panels {
            grid-template-columns: 600px 1fr 640px;
        }

        /* íŒ€ ìš”ì²­ íŒ¨ë„ */
        .team-requests-panel {
            border-right: 1px solid #e9ecef;
            background: #fafbfc;
            padding: 24px;
            display: none;
            overflow-y: auto;
            max-height: calc(100vh - 200px);
        }

        .team-requests-panel.active {
            display: block;
        }

        /* ë³¸ì²´ ë°ì´í„° ì„¹ì…˜ */
        .master-data-section {
            background: #f8f9ff;
            border: 1px solid #e0e7ff;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 20px;
        }

        .master-data-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 12px;
        }

        .master-data-icon {
            font-size: 18px;
        }

        .master-data-title {
            font-size: 16px;
            font-weight: 600;
            color: #1d1d1f;
        }

        .master-data-stats {
            display: flex;
            gap: 12px;
            margin-bottom: 12px;
        }

        .master-stat {
            font-size: 12px;
            color: #6e6e73;
        }

        .master-stat strong {
            color: #667eea;
        }

        .master-data-desc {
            font-size: 13px;
            color: #6e6e73;
            line-height: 1.4;
        }

        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .panel-title {
            font-size: 18px;
            font-weight: 600;
            color: #1d1d1f;
        }

        .team-requests {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .team-request-card {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 12px;
            padding: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .team-request-card:hover {
            border-color: #667eea;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15);
        }

        .team-request-card.active {
            border-color: #667eea;
            background: #f8f9ff;
        }

        .team-info {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .team-avatar {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 600;
            color: white;
        }

        .team-marketing { background: #667eea; }
        .team-finance { background: #34c759; }
        .team-sales { background: #ff9500; }
        .team-dev { background: #5856d6; }

        .team-name {
            font-size: 14px;
            font-weight: 600;
            color: #1d1d1f;
        }

        .request-purpose {
            font-size: 13px;
            color: #6e6e73;
            margin-bottom: 8px;
        }

        .request-details {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 8px;
        }

        .data-format {
            font-size: 12px;
            padding: 4px 8px;
            background: #f1f3f4;
            border-radius: 4px;
            color: #5f6368;
        }
        
        .team-request-btn {
            padding: 4px 12px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 11px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .team-request-btn:hover {
            background: #5a6fd8;
            transform: translateY(-1px);
        }

        .priority-badge {
            font-size: 11px;
            padding: 3px 8px;
            border-radius: 12px;
            font-weight: 600;
        }

        .priority-high {
            background: #fee;
            color: #d73a49;
        }

        .priority-medium {
            background: #fff3cd;
            color: #856404;
        }

        .priority-low {
            background: #d1ecf1;
            color: #0c5460;
        }

        /* ì¤‘ì•™ ë©”ì¸ ì˜ì—­ */
        .collaboration-main {
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            position: relative;
            max-height: calc(100vh - 200px);
        }
        
        /* ì¤‘ì•™ íŒ¨ë„ í†µí•© íƒ€ì´í‹€ */
        .central-panel-title {
            background: linear-gradient(135deg, #f8f9ff 0%, #ffffff 100%);
            border-bottom: 1px solid #e9ecef;
            padding: 20px 24px;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        
        .central-title {
            font-size: 24px;
            font-weight: 700;
            color: #1d1d1f;
            margin-bottom: 8px;
        }
        
        .central-subtitle {
            font-size: 14px;
            color: #6e6e73;
        }

        /* ë°ì´í„° ì—°ê²° ë‹¨ê³„ */
        .data-connection-stage {
            padding: 60px;
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 600px;
        }

        .connection-title {
            font-size: 32px;
            font-weight: 700;
            color: #1d1d1f;
            margin-bottom: 16px;
        }

        .connection-subtitle {
            font-size: 18px;
            color: #6e6e73;
            margin-bottom: 40px;
        }

        .connection-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 32px;
            max-width: 600px;
            width: 100%;
        }

        .connection-card {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 16px;
            padding: 32px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .connection-card:hover {
            border-color: #667eea;
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.15);
        }

        .connection-card.available {
            border-color: #667eea;
        }

        .connection-card.coming-soon {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .connection-icon {
            font-size: 48px;
            margin-bottom: 20px;
        }

        .connection-name {
            font-size: 20px;
            font-weight: 600;
            color: #1d1d1f;
            margin-bottom: 12px;
        }

        .connection-desc {
            font-size: 14px;
            color: #6e6e73;
            margin-bottom: 16px;
        }

        .coming-soon-badge {
            display: inline-block;
            padding: 4px 12px;
            background: #f1f3f4;
            color: #6e6e73;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }

        /* AWS ì—°ê²° í¼ */
        .aws-connection-form {
            display: none;
            max-width: 400px;
            width: 100%;
            text-align: left;
            margin-top: 20px;
        }

        .form-group {
            margin-bottom: 16px;
        }

        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: #1d1d1f;
            margin-bottom: 8px;
        }

        .form-input {
            width: 100%;
            padding: 12px;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .form-buttons {
            display: flex;
            gap: 12px;
            justify-content: center;
            margin-top: 24px;
        }

        .btn {
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .btn-secondary {
            background: #f1f3f4;
            color: #5f6368;
        }

        /* í•©ì„± ë°ì´í„° ì¦ê°• ì„¹ì…˜ */
        .synthetic-data-section {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 16px;
            margin: 16px 0;
            border: 1px solid #e9ecef;
        }

        .synthetic-options {
            display: flex;
            gap: 16px;
            margin-bottom: 16px;
        }

        .synthetic-option {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
        }

        .synthetic-option input[type="radio"] {
            margin: 0;
        }

        .synthetic-option label {
            cursor: pointer;
            font-size: 14px;
            color: #495057;
        }

        .request-notification {
            background: #fff3e0;
            border: 1px solid #ffcc02;
            border-radius: 8px;
            padding: 16px;
            margin-top: 16px;
        }

        .notification-text {
            font-size: 14px;
            color: #f57c00;
            margin-bottom: 12px;
            line-height: 1.5;
        }

        .notification-channels {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .channel-option {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .channel-option input[type="checkbox"] {
            margin: 0;
        }

        .channel-option label {
            cursor: pointer;
            font-size: 13px;
            color: #495057;
        }

        /* ë°ì´í„° ì¦ê°• ì¤‘ ìƒíƒœ */
        .team-dataset-card.augmenting, .drop-zone.augmenting {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%);
            position: relative;
        }

        .augmenting-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(102, 126, 234, 0.9);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        /* ì»¬ëŸ¼ ì„ íƒ ì˜ì—­ */
        .column-selection-area {
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid #dee2e6;
        }

        .column-selection-title {
            font-size: 14px;
            font-weight: 600;
            color: #495057;
            margin-bottom: 12px;
        }

        .selected-columns-for-augment {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .augment-column-option {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px;
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .augment-column-option:hover {
            background: #f0f4ff;
            border-color: #667eea;
        }

        .augment-column-option input[type="checkbox"] {
            margin: 0;
        }

        .augment-column-option label {
            cursor: pointer;
            font-size: 13px;
            color: #495057;
            flex: 1;
        }

        /* ì»¬ëŸ¼ë³„ ì½”ë©˜íŠ¸ ì˜ì—­ */
        .column-comments {
            margin-top: 16px;
        }

        .column-comment-item {
            margin-bottom: 12px;
            padding: 12px;
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            display: none;
        }

        .column-comment-item.show {
            display: block;
            animation: fadeInUp 0.3s ease;
        }

        .column-comment-title {
            font-size: 13px;
            font-weight: 600;
            color: #495057;
            margin-bottom: 8px;
        }

        .column-comment-textarea {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            font-size: 12px;
            resize: vertical;
            min-height: 60px;
            font-family: inherit;
        }

        .column-comment-textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.1);
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ìŠ¤ìº” ë‹¨ê³„ */
        .scanning-stage {
            padding: 60px;
            text-align: center;
            display: none;
        }

        .progress-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: conic-gradient(#667eea 0% var(--progress), #e9ecef var(--progress) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 24px;
            position: relative;
        }

        .progress-circle::before {
            content: '';
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: white;
            position: absolute;
        }

        .progress-text {
            font-size: 18px;
            font-weight: 700;
            color: #667eea;
            z-index: 1;
        }

        /* ë³´ì•ˆ ì²˜ë¦¬ ë‹¨ê³„ */
        .processing-stage {
            padding: 40px;
            display: none;
        }

        .processing-steps {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 40px 0;
        }

        .process-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            flex: 1;
        }

        .step-icon {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: #f1f3f4;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            transition: all 0.3s ease;
        }

        .step-icon.active {
            background: #667eea;
            color: white;
        }

        .step-icon.completed {
            background: #34c759;
            color: white;
        }

        .step-label {
            font-size: 14px;
            color: #6e6e73;
            text-align: center;
        }

        .step-connector {
            flex: 1;
            height: 2px;
            background: #e9ecef;
            margin: 0 16px;
        }

        .step-connector.completed {
            background: #34c759;
        }

        /* í•˜ì´ë¸Œë¦¬ë“œ í¸ì§‘ ì¸í„°í˜ì´ìŠ¤ */
        .hybrid-editor {
            display: none;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            padding: 24px;
            min-height: 500px;
        }

        .column-tree {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
        }

        .tree-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 16px;
        }

        .tree-title {
            font-size: 16px;
            font-weight: 600;
            color: #1d1d1f;
        }

        .analysis-preview-btn {
            padding: 6px 12px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 12px;
            cursor: pointer;
            position: relative;
        }

        .preview-tooltip {
            position: absolute;
            top: -120px;
            right: 0;
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            font-size: 12px;
            white-space: nowrap;
            display: none;
            z-index: 100;
        }

        .preview-tooltip.show {
            display: block;
        }

        .column-group {
            margin-bottom: 16px;
        }

        .group-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
            cursor: pointer;
            padding: 8px;
            border-radius: 6px;
            transition: background-color 0.2s ease;
        }

        .group-header:hover {
            background: rgba(102, 126, 234, 0.1);
        }

        .group-icon {
            font-size: 12px;
            transition: transform 0.2s ease;
        }

        .group-icon.collapsed {
            transform: rotate(-90deg);
        }

        .group-name {
            font-size: 14px;
            font-weight: 600;
            color: #1d1d1f;
        }

        .column-list {
            padding-left: 20px;
        }

        .column-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 6px 8px;
            margin-bottom: 4px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 1px solid transparent;
        }

        .column-item:hover {
            background: white;
            border-color: #667eea;
        }

        .column-item.selected {
            background: #f8f9ff;
            border-color: #667eea;
        }

        .column-name {
            font-size: 13px;
            color: #2c2c2c;
            flex: 1;
        }

        .column-type {
            font-size: 11px;
            color: #6e6e73;
            background: #f1f3f4;
            padding: 2px 6px;
            border-radius: 4px;
        }

        .column-detail {
            background: white;
            border-radius: 12px;
            padding: 20px;
        }

        .detail-header {
            margin-bottom: 20px;
        }

        .selected-column-name {
            font-size: 18px;
            font-weight: 600;
            color: #1d1d1f;
            margin-bottom: 8px;
        }

        .column-info {
            display: flex;
            gap: 16px;
            margin-bottom: 20px;
        }

        .info-item {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .info-label {
            font-size: 12px;
            color: #6e6e73;
            font-weight: 600;
        }

        .info-value {
            font-size: 14px;
            color: #1d1d1f;
        }

        .column-actions {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .action-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .action-label {
            font-size: 13px;
            font-weight: 600;
            color: #1d1d1f;
        }

        .action-buttons {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .action-btn {
            padding: 6px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            background: white;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .action-btn:hover, .action-btn.active {
            border-color: #667eea;
            background: #f8f9ff;
            color: #667eea;
        }

        .send-to-workspace {
            margin-top: 16px;
            padding: 10px 16px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
        }

        .send-to-workspace:hover {
            background: #5a6fd8;
        }

        /* ìš°ì¸¡ íŒ¨ë„ - ê°œì¸ ì‘ì—…ê³µê°„ */
        .personal-workspace {
            border-left: 1px solid #e9ecef;
            background: white;
            padding: 24px;
            display: none;
            overflow-y: auto;
            max-height: calc(100vh - 200px);
        }

        .personal-workspace.active {
            display: block;
        }

        .workspace-header-personal {
            margin-bottom: 20px;
        }

        .workspace-title-personal {
            font-size: 16px;
            font-weight: 600;
            color: #1d1d1f;
            margin-bottom: 8px;
        }

        .workspace-subtitle-personal {
            font-size: 12px;
            color: #6e6e73;
        }

        .drop-zone {
            border: 2px dashed #d1d5db;
            border-radius: 12px;
            padding: 40px 20px;
            text-align: center;
            margin-bottom: 20px;
            min-height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .drop-zone.dragover {
            border-color: #667eea;
            background: #f8f9ff;
        }

        .drop-zone-icon {
            font-size: 32px;
            margin-bottom: 12px;
            opacity: 0.5;
        }

        .drop-zone-text {
            font-size: 14px;
            color: #6e6e73;
        }

        .selected-columns {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .selected-column {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 12px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }

        .selected-column-info {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .selected-column-name-small {
            font-size: 13px;
            font-weight: 600;
            color: #1d1d1f;
        }

        .selected-column-source {
            font-size: 11px;
            color: #6e6e73;
        }

        .remove-column {
            background: none;
            border: none;
            color: #d73a49;
            cursor: pointer;
            font-size: 16px;
            padding: 4px;
        }

        .workspace-actions {
            margin-top: 20px;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .export-options {
            display: flex;
            gap: 8px;
        }

        .export-btn {
            flex: 1;
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            background: white;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .export-btn:hover {
            border-color: #667eea;
            color: #667eea;
        }

        /* í˜‘ì—… íˆìŠ¤í† ë¦¬ */
        .collaboration-history {
            background: white;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            margin-bottom: 40px;
            padding: 32px;
            display: none;
        }
        
        .collaboration-history.show {
            display: block;
        }

        .history-header {
            margin-bottom: 24px;
        }

        .history-title {
            font-size: 24px;
            font-weight: 700;
            color: #1d1d1f;
        }

        .history-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 32px;
        }

        .history-section {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .section-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
        }

        .section-title {
            font-size: 16px;
            font-weight: 600;
            color: #1d1d1f;
        }

        .section-count {
            font-size: 12px;
            background: #667eea;
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
        }

        .history-item {
            padding: 16px;
            border: 1px solid #e9ecef;
            border-radius: 12px;
            transition: all 0.2s ease;
        }

        .history-item:hover {
            border-color: #667eea;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.1);
        }

        .history-item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .history-item-title {
            font-size: 14px;
            font-weight: 600;
            color: #1d1d1f;
        }

        .history-status {
            font-size: 11px;
            padding: 3px 8px;
            border-radius: 12px;
            font-weight: 600;
        }

        .status-pending {
            background: #fff3cd;
            color: #856404;
        }

        .status-approved {
            background: #d1ecf1;
            color: #0c5460;
        }

        .status-completed {
            background: #d4edda;
            color: #155724;
        }

        .history-item-desc {
            font-size: 13px;
            color: #6e6e73;
            margin-bottom: 12px;
        }

        .history-actions {
            display: flex;
            gap: 8px;
        }

        .history-action-btn {
            padding: 6px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            background: white;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .history-action-btn.approve {
            border-color: #34c759;
            color: #34c759;
        }

        .history-action-btn.reject {
            border-color: #d73a49;
            color: #d73a49;
        }

        .history-action-btn:hover {
            background: #f8f9fa;
        }

        /* ì•¡ì…˜ ë²„íŠ¼ */
        .main-action-buttons {
            display: flex;
            justify-content: center;
            gap: 16px;
            margin-top: 32px;
        }

        .btn-large {
            padding: 16px 32px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
        }

        .btn-large.primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            box-shadow: 0 4px 16px rgba(102, 126, 234, 0.3);
        }

        .btn-large.primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        /* ìˆ¨ê¹€ */
        .hidden {
            display: none !important;
        }

        /* ì• ë‹ˆë©”ì´ì…˜ */
        .fade-in {
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* íŒì—… ìŠ¤íƒ€ì¼ */
        .analysis-popup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .popup-content {
            background: white;
            border-radius: 16px;
            padding: 32px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .popup-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }
        
        .popup-title {
            font-size: 20px;
            font-weight: 700;
            color: #1d1d1f;
        }
        
        .popup-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #6e6e73;
        }
        
        .agent-section {
            margin-bottom: 24px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
        }
        
        .agent-name {
            font-size: 16px;
            font-weight: 600;
            color: #667eea;
            margin-bottom: 12px;
        }
        
        .agent-capabilities {
            list-style: none;
            padding: 0;
        }
        
        .agent-capabilities li {
            margin-bottom: 8px;
            padding-left: 20px;
            position: relative;
        }
        
        .agent-capabilities li:before {
            content: 'â€¢';
            color: #667eea;
            font-weight: bold;
            position: absolute;
            left: 0;
        }
        
        /* ë°˜ì‘í˜• */
        @media (max-width: 1400px) {
            .collaboration-workspace.with-panels {
                grid-template-columns: 400px 1fr 400px;
            }
        }
        
        @media (max-width: 1024px) {
            .collaboration-workspace.with-panels {
                grid-template-columns: 1fr;
                grid-template-rows: auto 1fr auto;
            }
            
            .team-requests-panel {
                border-right: none;
                border-bottom: 1px solid #e9ecef;
                max-height: 200px;
            }
            
            .personal-workspace {
                border-left: none;
                border-top: 1px solid #e9ecef;
                max-height: 200px;
            }

            .hybrid-editor {
                grid-template-columns: 1fr;
            }

            .history-content {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<style>
/* ì¶”ê°€ ìŠ¤íƒ€ì¼ */
.central-panel-title {
    background: linear-gradient(135deg, #f8f9ff 0%, #ffffff 100%);
    border-bottom: 1px solid #e9ecef;
    padding: 20px 24px;
    text-align: center;
    position: sticky;
    top: 0;
    z-index: 10;
    flex-shrink: 0;
}

.central-title {
    font-size: 24px;
    font-weight: 700;
    color: #1d1d1f;
    margin-bottom: 8px;
}

.central-subtitle {
    font-size: 14px;
    color: #6e6e73;
}

.empty-state {
    flex: 1;
    display: none;
    align-items: center;
    justify-content: center;
    padding: 60px 20px;
}

.empty-state-content {
    text-align: center;
    max-width: 400px;
}

.empty-state-icon {
    font-size: 64px;
    margin-bottom: 24px;
    opacity: 0.3;
}

.empty-state-title {
    font-size: 24px;
    font-weight: 600;
    color: #1d1d1f;
    margin-bottom: 12px;
}

.empty-state-desc {
    font-size: 16px;
    color: #6e6e73;
    line-height: 1.5;
}

.header-controls {
    display: flex;
    align-items: center;
    gap: 24px;
}
</style>
<body>
    <div class="container">
        <!-- í—¤ë” -->
        <header class="header">
            <div class="header-content">
                <div class="logo">Xpert</div>
                
                <div class="progress-flow">
                    <div class="step-indicator active" id="step1-indicator">
                        <div class="step-number">1</div>
                        <span>ë°ì´í„° ì—°ê²°</span>
                    </div>
                    <div class="step-indicator pending" id="step2-indicator">
                        <div class="step-number">2</div>
                        <span>ë³´ì•ˆ ì²˜ë¦¬</span>
                    </div>
                    <div class="step-indicator pending" id="step3-indicator">
                        <div class="step-number">3</div>
                        <span>í˜‘ì—… ì›Œí¬ìŠ¤í˜ì´ìŠ¤</span>
                    </div>
                    <div class="step-indicator pending" id="step4-indicator">
                        <div class="step-number">4</div>
                        <span>ì—ì´ì „íŠ¸ ë¶„ì„</span>
                    </div>
                    <div class="step-indicator pending" id="step5-indicator">
                        <div class="step-number">5</div>
                        <span>í†µí•© ë¦¬í¬íŠ¸</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- ë©”ì¸ ì½˜í…ì¸  -->
        <main class="main-content">
            <!-- ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì»¨í…Œì´ë„ˆ -->
            <section class="workspace-container fade-in">
                <div class="workspace-header">
                    <div>
                        <div class="workspace-title">ë°ì´í„° í˜‘ì—… ì›Œí¬ìŠ¤í˜ì´ìŠ¤</div>
                        <div class="workspace-subtitle">ì•ˆì „í•œ ë°ì´í„° ì²˜ë¦¬ë¶€í„° íŒ€ë³„ ì‹¤ì‹œê°„ í˜‘ì—…ê¹Œì§€</div>
                    </div>
                    <div class="header-controls">
                        <button class="btn-large primary hidden" id="proceed-btn" type="button" onclick="window.location.href='xpert_agent_fixed.html'">
                        ì—ì´ì „íŠ¸ ë¶„ì„ ì‹œì‘ â†’
                        </button>
                        <div class="workspace-stats">
                            <div class="stat-item">
                                <div class="stat-value" id="data-size">-</div>
                                <div class="stat-label">ì²˜ë¦¬ëœ ë°ì´í„°</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value" id="team-count">-</div>
                                <div class="stat-label">ëŒ€ê¸° ì¤‘ì¸ íŒ€</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value" id="status">ì¤€ë¹„</div>
                                <div class="stat-label">í˜„ì¬ ìƒíƒœ</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="collaboration-workspace" id="workspace">
                    <!-- íŒ€ ìš”ì²­ íŒ¨ë„ -->
                    <div class="team-requests-panel" id="team-panel">
                        <div class="panel-header">
                            <div class="panel-title">ë°ì´í„° íƒìƒ‰ê¸°</div>
                        </div>

                        <!-- ë³¸ì²´ ë°ì´í„° ì„¹ì…˜ -->
                        <div class="master-data-section" onclick="selectMasterData()" style="cursor: pointer; position: sticky; top: 0; z-index: 10;">
                            <div class="master-data-header">
                                <div class="master-data-icon">ğŸ›ï¸</div>
                                <div class="master-data-title">ë³¸ì²´ ë°ì´í„°</div>
                            </div>
                            <div class="master-data-stats">
                                <div class="master-stat"><strong>4.8GB</strong> ì²˜ë¦¬ì™„ë£Œ</div>
                                <div class="master-stat"><strong>96%</strong> í’ˆì§ˆìœ ì§€</div>
                            </div>
                            <div class="master-data-desc">
                                DTS ë³´ì•ˆì²˜ë¦¬ ì™„ë£Œëœ ë§ˆìŠ¤í„° ë°ì´í„°ì…‹ìœ¼ë¡œ<br>
                                íŒ€ë³„ ì•ˆì „í•œ í˜‘ì—…ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤
                            </div>
                        </div>
                        
                        <div class="team-requests">
                            <div class="team-request-card" onclick="selectTeamData('marketing')">
                                <div class="team-info">
                                    <div class="team-avatar team-marketing">ğŸ“Š</div>
                                    <div class="team-name">ë§ˆì¼€íŒ…íŒ€</div>
                                </div>
                                <div class="request-purpose">ê³ ê°ë³„ êµ¬ë§¤ íŒ¨í„´ ë¶„ì„ìš©</div>
                                <div class="request-details">
                                    <div class="data-format">Dashboardìš©</div>
                                    <button class="team-request-btn" onclick="requestTeamData(event, 'marketing')">ê³µìœ  ìš”ì²­</button>
                                </div>
                            </div>

                            <div class="team-request-card" onclick="selectTeamData('dev')">
                                <div class="team-info">
                                    <div class="team-avatar team-dev">âš™ï¸</div>
                                    <div class="team-name">ê°œë°œíŒ€</div>
                                </div>
                                <div class="request-purpose">ML ëª¨ë¸ í•™ìŠµìš©</div>
                                <div class="request-details">
                                    <div class="data-format">API ì—°ë™</div>
                                    <button class="team-request-btn" onclick="requestTeamData(event, 'dev')">ê³µìœ  ìš”ì²­</button>
                                </div>
                            </div>

                            <div class="team-request-card" onclick="selectTeamData('finance')">
                                <div class="team-info">
                                    <div class="team-avatar team-finance">ğŸ’°</div>
                                    <div class="team-name">ì¬ë¬´íŒ€</div>
                                </div>
                                <div class="request-purpose">ì›”ë³„ ì§‘ê³„ ë¦¬í¬íŠ¸ìš©</div>
                                <div class="request-details">
                                    <div class="data-format">Excel ì¶œë ¥</div>
                                    <button class="team-request-btn" onclick="requestTeamData(event, 'finance')">ê³µìœ  ìš”ì²­</button>
                                </div>
                            </div>

                            <div class="team-request-card" onclick="selectTeamData('sales')">
                                <div class="team-info">
                                    <div class="team-avatar team-sales">ğŸ¯</div>
                                    <div class="team-name">ì˜ì—…íŒ€</div>
                                </div>
                                <div class="request-purpose">ê³ ê° ì„¸ê·¸ë¨¼íŠ¸ ë¶„ì„ìš©</div>
                                <div class="request-details">
                                    <div class="data-format">ë¦¬í¬íŠ¸ìš©</div>
                                    <button class="team-request-btn" onclick="requestTeamData(event, 'sales')">ê³µìœ  ìš”ì²­</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ì¤‘ì•™ ë©”ì¸ ì˜ì—­ -->
                    <div class="collaboration-main">
                        <!-- ì¤‘ì•™ íŒ¨ë„ í†µí•© íƒ€ì´í‹€ - ì´ˆê¸°ì—ëŠ” ìˆ¨ê¹€ -->
                        <div class="central-panel-title" id="central-panel-title" style="display: none;">
                            <div class="central-title">í¸ì§‘ ìŠ¤íŠœë””ì˜¤</div>
                            <div class="central-subtitle">ë°ì´í„° íƒìƒ‰ê³¼ í¸ì§‘ì„ ìœ„í•œ í†µí•© ì‘ì—… ê³µê°„</div>
                        </div>
                        
                        <!-- ë¹ˆ ìƒíƒœ ë©”ì‹œì§€ - ì´ˆê¸°ì—ëŠ” ìˆ¨ê¹€ -->
                        <div class="empty-state" id="empty-state" style="display: none;">
                            <div class="empty-state-content">
                                <div class="empty-state-icon">ğŸ“</div>
                                <div class="empty-state-title">ë°ì´í„°ì…‹ì„ ì„ íƒí•´ì£¼ì„¸ìš”</div>
                                <div class="empty-state-desc">ì¢Œì¸¡ì—ì„œ ë³¸ì²´ ë°ì´í„° ë˜ëŠ” íŒ€ë³„ ë°ì´í„°ë¥¼ ì„ íƒí•˜ë©´<br>í¸ì§‘ ì‘ì—…ì„ ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</div>
                            </div>
                        </div>
                        
                        <!-- 1. ë°ì´í„° ì—°ê²° ë‹¨ê³„ -->
                        <div class="data-connection-stage" id="connection-stage">
                            <div class="connection-title">ë°ì´í„° ì†ŒìŠ¤ ì„ íƒ</div>
                            <div class="connection-subtitle">ì•ˆì „í•œ í˜‘ì—…ì„ ìœ„í•´ ë°ì´í„° ì†ŒìŠ¤ë¥¼ ì—°ê²°í•´ì£¼ì„¸ìš”</div>
                            
                            <div class="connection-options">
                                <div class="connection-card available" onclick="showAWSForm()">
                                    <div class="connection-icon">â˜ï¸</div>
                                    <div class="connection-name">AWS ì—°ê²°</div>
                                    <div class="connection-desc">ì¼ë°˜ AWS ê³„ì •ì„ í†µí•œ<br>ë°ì´í„°ë² ì´ìŠ¤ ì§ì ‘ ì—°ê²°</div>
                                </div>
                                
                                <div class="connection-card available" onclick="useSampleData()">
                                    <div class="connection-icon">ğŸ“Š</div>
                                    <div class="connection-name">ìƒ˜í”Œ ë°ì´í„°</div>
                                    <div class="connection-desc">ì¦‰ì‹œ ì²´í—˜ ê°€ëŠ¥í•œ<br>ë°ëª¨ìš© ë°ì´í„°ì…‹</div>
                                </div>
                            </div>

                            <!-- AWS ì—°ê²° í¼ -->
                            <div class="aws-connection-form" id="aws-form">
                                <div class="form-group">
                                    <label class="form-label">ë°ì´í„°ë² ì´ìŠ¤ IP ì£¼ì†Œ</label>
                                    <input type="text" class="form-input" placeholder="ì˜ˆ: 192.168.1.100" id="db-ip">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">í¬íŠ¸</label>
                                    <input type="text" class="form-input" placeholder="ì˜ˆ: 3306" id="db-port">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">ë°ì´í„°ë² ì´ìŠ¤ ì´ë¦„</label>
                                    <input type="text" class="form-input" placeholder="ì˜ˆ: sales_db" id="db-name">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">ì‚¬ìš©ìëª…</label>
                                    <input type="text" class="form-input" placeholder="ì‚¬ìš©ìëª…" id="db-user">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">ë¹„ë°€ë²ˆí˜¸</label>
                                    <input type="password" class="form-input" placeholder="ë¹„ë°€ë²ˆí˜¸" id="db-password">
                                </div>
                                <div class="form-buttons">
                                    <button class="btn btn-secondary" onclick="hideAWSForm()">ì·¨ì†Œ</button>
                                    <button class="btn btn-primary" onclick="connectAWS()">ì—°ê²°</button>
                                </div>
                            </div>
                        </div>

                        <!-- 2. ìŠ¤ìº” ë‹¨ê³„ -->
                        <div class="scanning-stage" id="scanning-stage">
                            <div class="connection-title">ë¯¼ê°ì •ë³´ ê²€ì¦ ì¤‘</div>
                            <div class="connection-subtitle">ì—°ê²°ëœ ë°ì´í„°ì˜ ë³´ì•ˆ ìƒíƒœë¥¼ ìë™ìœ¼ë¡œ ê²€ì¦í•˜ê³  ìˆìŠµë‹ˆë‹¤</div>
                            
                            <div class="progress-circle" style="--progress: 75%">
                                <div class="progress-text" id="scan-progress">75%</div>
                            </div>
                            <div style="text-align: center; margin-top: 16px;">
                                <div style="font-size: 16px; color: #1d1d1f; margin-bottom: 8px;" id="scan-status">ë¯¼ê°ì •ë³´ ê²€ì¦ ì¤‘...</div>
                                <div style="font-size: 14px; color: #6e6e73;" id="scan-detail">4.8GB ë°ì´í„° ë¶„ì„ ì§„í–‰</div>
                            </div>
                        </div>

                        <!-- 3. ë³´ì•ˆ ì²˜ë¦¬ ë‹¨ê³„ -->
                        <div class="processing-stage" id="processing-stage">
                            <div style="text-align: center; margin-bottom: 20px;">
                                <div class="connection-title">ë³´ì•ˆ ì²˜ë¦¬ ì§„í–‰ ì¤‘</div>
                                <div class="connection-subtitle">ë¯¼ê°ì •ë³´ê°€ ê°ì§€ë˜ì–´ DTS ë° ë³´ì•ˆ ì²˜ë¦¬ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤</div>
                            </div>
                            
                            <div class="processing-steps">
                                <div class="process-step">
                                    <div class="step-icon completed" id="step-dts">ğŸ”’</div>
                                    <div class="step-label">DTS ë³€í™˜</div>
                                </div>
                                <div class="step-connector completed" id="connector1"></div>
                                <div class="process-step">
                                    <div class="step-icon active" id="step-security">ğŸ›¡ï¸</div>
                                    <div class="step-label">ë³´ì•ˆ ì²˜ë¦¬</div>
                                </div>
                                <div class="step-connector" id="connector2"></div>
                                <div class="process-step">
                                    <div class="step-icon" id="step-quality">âœ…</div>
                                    <div class="step-label">í’ˆì§ˆ ê²€ì¦</div>
                                </div>
                            </div>

                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-top: 32px;">
                                <div style="background: #f8f9fa; padding: 20px; border-radius: 12px;">
                                    <div style="font-size: 24px; font-weight: 700; color: #667eea; margin-bottom: 8px;">96%</div>
                                    <div style="font-size: 14px; color: #6e6e73;">ë°ì´í„° í’ˆì§ˆ ìœ ì§€ìœ¨</div>
                                </div>
                                <div style="background: #f8f9fa; padding: 20px; border-radius: 12px;">
                                    <div style="font-size: 24px; font-weight: 700; color: #667eea; margin-bottom: 8px;">47ê±´</div>
                                    <div style="font-size: 14px; color: #6e6e73;">ë¯¼ê°ì •ë³´ ë³´ì•ˆ ì²˜ë¦¬</div>
                                </div>
                            </div>
                        </div>

                        <!-- 4. í•˜ì´ë¸Œë¦¬ë“œ í¸ì§‘ ì¸í„°í˜ì´ìŠ¤ -->
                        <div class="hybrid-editor" id="hybrid-editor" style="display: none;">
                            <div class="column-tree">
                                <div class="tree-header">
                                    <div class="tree-title">ë°ì´í„° ì»¬ëŸ¼ (4.8GB)</div>
                                </div>

                                <div class="section-title-area" style="margin-bottom: 16px;">
                                    <div style="font-size: 14px; font-weight: 600; color: #667eea; margin-bottom: 8px;">ì „ì²´ ë°ì´í„°ì…‹ êµ¬ì¡°</div>
                                    <div style="font-size: 12px; color: #6e6e73;">ì¢Œì¸¡ì—ì„œ íŒ€ì„ ì„ íƒí•˜ë©´ í•´ë‹¹ íŒ€ì— ë§ì¶¤í™”ëœ ë°ì´í„°ê°€ í‘œì‹œë©ë‹ˆë‹¤</div>
                                </div>

                                <div class="column-group">
                                    <div class="group-header" onclick="toggleGroup('customer')">
                                        <span class="group-icon">â–¼</span>
                                        <span class="group-name">ê³ ê° ì •ë³´ (4ê°œ)</span>
                                    </div>
                                    <div class="column-list" id="customer-columns">
                                        <div class="column-item" onclick="selectColumn('customer_id', 'í…ìŠ¤íŠ¸(20)', 'ê³ ê° ì •ë³´')">
                                            <div class="column-name">customer_id</div>
                                            <div class="column-type">í…ìŠ¤íŠ¸</div>
                                        </div>
                                        <div class="column-item" onclick="selectColumn('customer_name', 'í…ìŠ¤íŠ¸(100)', 'ê³ ê° ì •ë³´')">
                                            <div class="column-name">customer_name</div>
                                            <div class="column-type">í…ìŠ¤íŠ¸</div>
                                        </div>
                                        <div class="column-item" onclick="selectColumn('age_group', 'í…ìŠ¤íŠ¸(10)', 'ê³ ê° ì •ë³´')">
                                            <div class="column-name">age_group</div>
                                            <div class="column-type">í…ìŠ¤íŠ¸</div>
                                        </div>
                                        <div class="column-item" onclick="selectColumn('region', 'í…ìŠ¤íŠ¸(50)', 'ê³ ê° ì •ë³´')">
                                            <div class="column-name">region</div>
                                            <div class="column-type">í…ìŠ¤íŠ¸</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="column-group">
                                    <div class="group-header" onclick="toggleGroup('transaction')">
                                        <span class="group-icon">â–¼</span>
                                        <span class="group-name">ê±°ë˜ ì •ë³´ (3ê°œ)</span>
                                    </div>
                                    <div class="column-list" id="transaction-columns">
                                        <div class="column-item" onclick="selectColumn('purchase_date', 'ë‚ ì§œì‹œê°„', 'ê±°ë˜ ì •ë³´')">
                                            <div class="column-name">purchase_date</div>
                                            <div class="column-type">ë‚ ì§œ</div>
                                        </div>
                                        <div class="column-item" onclick="selectColumn('amount', 'ìˆ«ì(10,2)', 'ê±°ë˜ ì •ë³´')">
                                            <div class="column-name">amount</div>
                                            <div class="column-type">ìˆ«ì</div>
                                        </div>
                                        <div class="column-item" onclick="selectColumn('product_category', 'í…ìŠ¤íŠ¸(50)', 'ê±°ë˜ ì •ë³´')">
                                            <div class="column-name">product_category</div>
                                            <div class="column-type">í…ìŠ¤íŠ¸</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="column-detail">
                                <div class="detail-header">
                                    <div class="selected-column-name" id="selected-column-name">ì»¬ëŸ¼ì„ ì„ íƒí•˜ì„¸ìš”</div>
                                </div>
                                
                                <div class="column-info" id="column-info" style="display: none;">
                                    <div class="info-item">
                                        <div class="info-label">ë°ì´í„° íƒ€ì…</div>
                                        <div class="info-value" id="column-type-detail">-</div>
                                    </div>
                                    <div class="info-item">
                                        <div class="info-label">ì†Œì† ê·¸ë£¹</div>
                                        <div class="info-value" id="column-group-detail">-</div>
                                    </div>
                                    <div class="info-item">
                                        <div class="info-label">ìƒ˜í”Œ ë°ì´í„°</div>
                                        <div class="info-value" id="column-sample">ì˜ˆì‹œ ê°’ì´ í‘œì‹œë©ë‹ˆë‹¤</div>
                                    </div>
                                </div>

                                <div class="column-actions" id="column-actions" style="display: none;">
                                    <div class="action-group">
                                        <div class="action-label">ì»¬ëŸ¼ëª… ë³€ê²½</div>
                                        <div class="action-buttons">
                                            <button class="action-btn" onclick="renameColumn()">ì´ë¦„ ë³€ê²½</button>
                                        </div>
                                    </div>

                                    <div class="action-group">
                                        <div class="action-label">ë°ì´í„° ë³€í™˜</div>
                                        <div class="action-buttons">
                                            <button class="action-btn" onclick="setTransform('normalize')">ì •ê·œí™”</button>
                                            <button class="action-btn" onclick="setTransform('categorize')">ì¹´í…Œê³ ë¦¬í™”</button>
                                            <button class="action-btn" onclick="setTransform('aggregate')">ì§‘ê³„</button>
                                        </div>
                                    </div>

                                    <div class="action-group">
                                        <div class="action-label">ì ‘ê·¼ ê¶Œí•œ</div>
                                        <div class="action-buttons">
                                            <button class="action-btn active" onclick="setAccess('all')">ì „ì²´ ì ‘ê·¼</button>
                                            <button class="action-btn" onclick="setAccess('limited')">ì œí•œ ì ‘ê·¼</button>
                                        </div>
                                    </div>

                                    <button class="send-to-workspace" onclick="sendToWorkspace()">
                                        ë‚´ ì‘ì—…ê³µê°„ìœ¼ë¡œ ë³´ë‚´ê¸° â†’
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ìš°ì¸¡ íŒ¨ë„ - íŒ€ ì‘ì—…ê³µê°„ -->
                    <div class="personal-workspace" id="personal-workspace">
                        <div class="workspace-header-personal">
                            <div class="workspace-title-personal">íŒ€ ì‘ì—… ë°ì´í„°ì…‹</div>
                            <div class="workspace-subtitle-personal">ì„ íƒí•œ ì»¬ëŸ¼ë“¤ë¡œ íŒ€ë³„ ë§ì¶¤ ë°ì´í„°ì…‹ì„ êµ¬ì„±í•˜ì„¸ìš”</div>
                        </div>

                        <div class="drop-zone" id="drop-zone">
                            <div class="drop-zone-icon">ğŸ“¥</div>
                            <div class="drop-zone-text">
                                ì¢Œì¸¡ì—ì„œ ì»¬ëŸ¼ì„ ì„ íƒí•˜ê±°ë‚˜<br>
                                ë“œë˜ê·¸í•˜ì—¬ ì´ê³³ì— ë†“ìœ¼ì„¸ìš”
                            </div>
                        </div>

                        <div class="selected-columns" id="selected-columns">
                            <!-- ì„ íƒëœ ì»¬ëŸ¼ë“¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                        </div>

                        <!-- í•©ì„± ë°ì´í„° ì¦ê°• ì„¹ì…˜ -->
                        <div class="synthetic-data-section">
                            <div class="workspace-title-personal">ğŸ§ª í•©ì„± ë°ì´í„° ì¦ê°•</div>
                            <div class="synthetic-options">
                                <div class="synthetic-option" onclick="selectSyntheticOption('none')">
                                    <input type="radio" name="synthetic" id="none" checked>
                                    <label for="none">í•´ë‹¹ ì—†ìŒ</label>
                                </div>
                                <div class="synthetic-option" onclick="selectSyntheticOption('request')">
                                    <input type="radio" name="synthetic" id="request">
                                    <label for="request">ìš”ì²­ ì…ë ¥</label>
                                </div>
                            </div>
                            
                            <!-- ì»¬ëŸ¼ ì„ íƒ ì˜ì—­ (ìš”ì²­ ì…ë ¥ ì„ íƒì‹œ í‘œì‹œ) -->
                            <div class="column-selection-area" id="columnSelectionArea" style="display: none;">
                                <div class="column-selection-title">ì¦ê°•í•  ì»¬ëŸ¼ ì„ íƒ</div>
                                <div class="selected-columns-for-augment" id="selectedColumnsForAugment">
                                    <!-- ì„ íƒëœ ì»¬ëŸ¼ë“¤ì´ ì²´í¬ë°•ìŠ¤ë¡œ í‘œì‹œë©ë‹ˆë‹¤ -->
                                </div>
                            </div>
                            
                            <!-- ì»¬ëŸ¼ë³„ ìš”ì²­ ì½”ë©˜íŠ¸ ì˜ì—­ -->
                            <div class="column-comments" id="columnComments">
                                <!-- ì„ íƒëœ ì»¬ëŸ¼ë³„ ì½”ë©˜íŠ¸ ì…ë ¥ë€ì´ í‘œì‹œë©ë‹ˆë‹¤ -->
                            </div>
                            
                            <!-- ìš”ì²­ ì…ë ¥ í´ë¦­ ì‹œ ë‚˜íƒ€ë‚˜ëŠ” ì•Œë¦¼ ì„¤ì • -->
                            <div class="request-notification" id="requestNotification" style="display: none;">
                                <div class="notification-text">
                                    ë°ì´í„° ì¦ê°•ì€ í˜„ì¬ ì¶”ê°€ ì‘ì—… ì‹œê°„ì´ í•„ìš”í•©ë‹ˆë‹¤.<br>
                                    ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…ì„ ìœ„í•œ ì•ŒëŒ ì±„ë„ì„ ì•Œë ¤ì£¼ì„¸ìš”.
                                </div>
                                <div class="notification-channels">
                                    <div class="channel-option">
                                        <input type="checkbox" id="email" checked>
                                        <label for="email">ğŸ“§ ì´ë©”ì¼</label>
                                    </div>
                                    <div class="channel-option">
                                        <input type="checkbox" id="sms">
                                        <label for="sms">ğŸ“± ë¬¸ì</label>
                                    </div>
                                    <div class="channel-option">
                                        <input type="checkbox" id="push">
                                        <label for="push">ğŸ”” í‘¸ì‹œ ì•Œë¦¼</label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="workspace-actions">
                            <div class="export-options">
                                <button class="export-btn" onclick="exportData('csv')">CSV</button>
                                <button class="export-btn" onclick="exportData('json')">JSON</button>
                                <button class="export-btn" onclick="exportData('excel')">Excel</button>
                            </div>
                            <button class="btn btn-primary" id="generateBtn" style="width: 100%; margin-top: 12px;" onclick="generateData()">
                                íŒ€ ë°ì´í„°ì…‹ ìƒì„±
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- í˜‘ì—… íˆìŠ¤í† ë¦¬ -->
            <section class="collaboration-history fade-in" id="collaboration-history-section">
                <div class="history-header">
                    <div class="history-title">í˜‘ì—… íˆìŠ¤í† ë¦¬</div>
                </div>
                
                <div class="history-content">
                    <div class="history-section">
                        <div class="section-header">
                            <div class="section-title">ë‚´ê°€ ìš”ì²­í•œ ë‚´ìš©</div>
                            <div class="section-count">3</div>
                        </div>
                        
                        <div class="history-item">
                            <div class="history-item-header">
                                <div class="history-item-title">ë§ˆì¼€íŒ…íŒ€ì— ê³ ê° ì„¸ê·¸ë¨¼íŠ¸ ë°ì´í„° ìš”ì²­</div>
                                <div class="history-status status-pending">ìŠ¹ì¸ ëŒ€ê¸°</div>
                            </div>
                            <div class="history-item-desc">
                                ê³ ê° ID, ì—°ë ¹ëŒ€, êµ¬ë§¤ ì´ë ¥ ì»¬ëŸ¼ì´ í¬í•¨ëœ ë°ì´í„°ì…‹ì„ ë§ˆì¼€íŒ…íŒ€ì— ê³µìœ  ìš”ì²­
                            </div>
                            <div class="history-actions">
                                <button class="history-action-btn">ìˆ˜ì •</button>
                                <button class="history-action-btn">ì·¨ì†Œ</button>
                            </div>
                        </div>

                        <div class="history-item">
                            <div class="history-item-header">
                                <div class="history-item-title">ê°œë°œíŒ€ì— API ì—°ë™ ë°ì´í„° ìš”ì²­</div>
                                <div class="history-status status-completed">ì™„ë£Œ</div>
                            </div>
                            <div class="history-item-desc">
                                ML í•™ìŠµìš© ì •ê·œí™”ëœ ê±°ë˜ ë°ì´í„° JSON í¬ë§·ìœ¼ë¡œ ê³µìœ  ì™„ë£Œ
                            </div>
                        </div>

                        <div class="history-item">
                            <div class="history-item-header">
                                <div class="history-item-title">ì¬ë¬´íŒ€ì— ì›”ë³„ ë¦¬í¬íŠ¸ ë°ì´í„° ìš”ì²­</div>
                                <div class="history-status status-approved">ìŠ¹ì¸ë¨</div>
                            </div>
                            <div class="history-item-desc">
                                ì›”ë³„ ë§¤ì¶œ ì§‘ê³„ ë°ì´í„° Excel í˜•íƒœë¡œ ê³µìœ  ì˜ˆì •
                            </div>
                        </div>
                    </div>

                    <div class="history-section">
                        <div class="section-header">
                            <div class="section-title">ë°›ì€ ìš”ì²­</div>
                            <div class="section-count">2</div>
                        </div>
                        
                        <div class="history-item">
                            <div class="history-item-header">
                                <div class="history-item-title">ì˜ì—…íŒ€ì´ ê³ ê° ì—°ë½ì²˜ ë°ì´í„° ìš”ì²­</div>
                                <div class="history-status status-pending">ê²€í†  ì¤‘</div>
                            </div>
                            <div class="history-item-desc">
                                ì‹ ê·œ ê³ ê° ë°œêµ´ì„ ìœ„í•œ ì—°ë½ì²˜ ë° ì§€ì—­ ì •ë³´ ë°ì´í„° ê³µìœ  ìš”ì²­
                            </div>
                            <div class="history-actions">
                                <button class="history-action-btn approve">ìŠ¹ì¸</button>
                                <button class="history-action-btn reject">ê±°ì ˆ</button>
                            </div>
                        </div>

                        <div class="history-item">
                            <div class="history-item-header">
                                <div class="history-item-title">ì¬ë¬´íŒ€ì´ ê²°ì œ ë°ì´í„° ìš”ì²­</div>
                                <div class="history-status status-completed">ìŠ¹ì¸ ì™„ë£Œ</div>
                            </div>
                            <div class="history-item-desc">
                                ë¶„ê¸°ë³„ ë§¤ì¶œ ë¶„ì„ì„ ìœ„í•œ ê²°ì œ ë°©ë²• ë° ê¸ˆì•¡ ë°ì´í„° ê³µìœ  ì™„ë£Œ
                            </div>
                        </div>
                    </div>
                </div>
            </section>

        </main>
    </div>

    <!-- ë¶„ì„ ë¯¸ë¦¬ë³´ê¸° íŒì—… -->
    <div class="analysis-popup" id="analysis-popup">
        <div class="popup-content">
            <div class="popup-header">
                <div class="popup-title">ë‹¤ìŒ ë‹¨ê³„ ì—ì´ì „íŠ¸ ë¶„ì„ ë¯¸ë¦¬ë³´ê¸°</div>
                <button class="popup-close" onclick="closeAnalysisPopup()">Ã—</button>
            </div>
            
            <div class="agent-section">
                <div class="agent-name">ğŸ¯ ê³ ê° ì„¸ê·¸ë©˜í…Œì´ì…˜ ì—ì´ì „íŠ¸</div>
                <ul class="agent-capabilities">
                    <li>ì—°ë ¹ëŒ€, ì§€ì—­ë³„ ê³ ê° ê·¸ë£¹ ìë™ ë¶„ë¥˜</li>
                    <li>êµ¬ë§¤ íŒ¨í„´ ê¸°ë°˜ ê³ ê° ì„±í–¥ ë¶„ì„</li>
                    <li>ê³ ê° ìƒì• ê°€ì¹˜(CLV) ì˜ˆì¸¡ ëª¨ë¸ë§</li>
                    <li>ë§ì¶¤í˜• ë§ˆì¼€íŒ… ì „ëµ ì¶”ì²œ</li>
                </ul>
            </div>
            
            <div class="agent-section">
                <div class="agent-name">ğŸ¤– ë¨¸ì‹ ëŸ¬ë‹ ëª¨ë¸ ì—ì´ì „íŠ¸</div>
                <ul class="agent-capabilities">
                    <li>ë°ì´í„° ì „ì²˜ë¦¬ ë° í”¼ì²˜ ì—”ì§€ë‹ˆì–´ë§</li>
                    <li>ì˜ˆì¸¡ ëª¨ë¸ ìë™ í•™ìŠµ ë° ìµœì í™”</li>
                    <li>ëª¨ë¸ ì„±ëŠ¥ í‰ê°€ ë° ê²€ì¦</li>
                    <li>ì‹¤ì‹œê°„ ì˜ˆì¸¡ API ìë™ ë°°í¬</li>
                </ul>
            </div>
            
            <div class="agent-section">
                <div class="agent-name">ğŸ“Š ë§¤ì¶œ ì˜ˆì¸¡ ì—ì´ì „íŠ¸</div>
                <ul class="agent-capabilities">
                    <li>ì‹œê³„ì—´ ë¶„ì„ì„ í†µí•œ ë§¤ì¶œ íŠ¸ë Œë“œ ì˜ˆì¸¡</li>
                    <li>ê³„ì ˆì„± ë° ì£¼ê¸°ì„± íŒ¨í„´ ê°ì§€</li>
                    <li>ì™¸ë¶€ ë³€ìˆ˜ ê³ ë ¤í•œ ì •í™•ë„ í–¥ìƒ</li>
                    <li>ë¦¬ìŠ¤í¬ ì‹œë‚˜ë¦¬ì˜¤ ë¶„ì„ ë° ëŒ€ì‘ì•ˆ ì œì‹œ</li>
                </ul>
            </div>
            
            <div class="agent-section">
                <div class="agent-name">ğŸ¯ ë¦¬ë“œ ìŠ¤ì½”ì–´ë§ ì—ì´ì „íŠ¸</div>
                <ul class="agent-capabilities">
                    <li>ê³ ê° í–‰ë™ ë°ì´í„° ê¸°ë°˜ ì „í™˜ í™•ë¥  ê³„ì‚°</li>
                    <li>ì˜ì—… ìš°ì„ ìˆœìœ„ ìë™ ë­í‚¹</li>
                    <li>ìµœì  ì ‘ì´‰ ì‹œì  ë° ì±„ë„ ì¶”ì²œ</li>
                    <li>ì„±ê³µ í™•ë¥  ê¸°ë°˜ ì˜ì—… ì „ëµ ìˆ˜ë¦½</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        let currentStage = 'connection';
        let scanProgress = 0;
        let hasSensitiveData = Math.random() > 0.3;
        let selectedColumns = [];
        let selectedColumnData = null;

        // ë‹¨ê³„ë³„ ìƒíƒœ ì—…ë°ì´íŠ¸
        function updateStepIndicator(step) {
            const indicators = ['step1-indicator', 'step2-indicator', 'step3-indicator', 'step4-indicator', 'step5-indicator'];
            
            indicators.forEach((id, index) => {
                const indicator = document.getElementById(id);
                indicator.classList.remove('active', 'completed', 'pending');
                
                if (index < step - 1) {
                    indicator.classList.add('completed');
                } else if (index === step - 1) {
                    indicator.classList.add('active');
                } else {
                    indicator.classList.add('pending');
                }
            });
        }

        // AWS ì—°ê²° í¼ í‘œì‹œ
        function showAWSForm() {
            document.querySelector('.connection-options').style.display = 'none';
            document.getElementById('aws-form').style.display = 'block';
        }

        // AWS ì—°ê²° í¼ ìˆ¨ê¹€
        function hideAWSForm() {
            document.querySelector('.connection-options').style.display = 'grid';
            document.getElementById('aws-form').style.display = 'none';
        }

        // AWS ì—°ê²°
        function connectAWS() {
            const ip = document.getElementById('db-ip').value;
            const port = document.getElementById('db-port').value;
            const dbName = document.getElementById('db-name').value;
            
            if (!ip || !port || !dbName) {
                alert('ëª¨ë“  í•„ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            startScanning();
        }

        // ìƒ˜í”Œ ë°ì´í„° ì‚¬ìš© - ë°”ë¡œ í˜‘ì—… ì›Œí¬ìŠ¤í˜ì´ìŠ¤ë¡œ ì´ë™
        function useSampleData() {
            startCollaboration();
        }

        // ìŠ¤ìº” ì‹œì‘
        function startScanning() {
            document.getElementById('connection-stage').style.display = 'none';
            document.getElementById('scanning-stage').style.display = 'block';
            currentStage = 'scanning';
            
            updateStepIndicator(2);
            
            const progressElement = document.getElementById('scan-progress');
            const statusElement = document.getElementById('scan-status');
            const detailElement = document.getElementById('scan-detail');
            
            const scanInterval = setInterval(() => {
                scanProgress += Math.random() * 15;
                progressElement.textContent = Math.min(100, Math.floor(scanProgress)) + '%';
                
                const progressCircle = document.querySelector('.progress-circle');
                progressCircle.style.setProperty('--progress', Math.min(100, scanProgress) + '%');
                
                if (scanProgress >= 100) {
                    clearInterval(scanInterval);
                    completeScan();
                }
            }, 300);
        }

        // ìŠ¤ìº” ì™„ë£Œ
        function completeScan() {
            const statusElement = document.getElementById('scan-status');
            const detailElement = document.getElementById('scan-detail');
            
            if (hasSensitiveData) {
                statusElement.textContent = 'ë¯¼ê°ì •ë³´ ê°ì§€ë¨';
                detailElement.textContent = 'ë³´ì•ˆ ì²˜ë¦¬ê°€ í•„ìš”í•©ë‹ˆë‹¤';
                
                setTimeout(() => {
                    startProcessing();
                }, 2000);
            } else {
                statusElement.textContent = 'ë¯¼ê°ì •ë³´ ì—†ìŒ';
                detailElement.textContent = 'ë³´ì•ˆ ì²˜ë¦¬ ì™„ë£Œ - í˜‘ì—… ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì¤€ë¹„';
                
                setTimeout(() => {
                    startCollaboration();
                }, 2000);
            }
        }

        // ë³´ì•ˆ ì²˜ë¦¬ ì‹œì‘
        function startProcessing() {
            document.getElementById('scanning-stage').style.display = 'none';
            document.getElementById('processing-stage').style.display = 'block';
            currentStage = 'processing';
            
            // ì²˜ë¦¬ ë‹¨ê³„ ì‹œë®¬ë ˆì´ì…˜
            setTimeout(() => {
                document.getElementById('step-security').classList.remove('active');
                document.getElementById('step-security').classList.add('completed');
                document.getElementById('connector2').classList.add('completed');
                document.getElementById('step-quality').classList.add('active');
                
                setTimeout(() => {
                    document.getElementById('step-quality').classList.remove('active');
                    document.getElementById('step-quality').classList.add('completed');
                    
                    setTimeout(() => {
                        startCollaboration();
                    }, 1000);
                }, 2000);
            }, 3000);
        }

        // í˜‘ì—… ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì‹œì‘
        function startCollaboration() {
            document.getElementById('scanning-stage').style.display = 'none';
            document.getElementById('processing-stage').style.display = 'none';
            document.getElementById('connection-stage').style.display = 'none';
            
            // ë ˆì´ì•„ì›ƒ ë³€ê²½
            document.getElementById('workspace').classList.add('with-panels');
            document.getElementById('team-panel').classList.add('active');
            document.getElementById('personal-workspace').classList.add('active');
            
            // ì¤‘ì•™ íŒ¨ë„ íƒ€ì´í‹€ê³¼ ë¹ˆ ìƒíƒœ í‘œì‹œ
            document.getElementById('central-panel-title').style.display = 'block';
            document.getElementById('empty-state').style.display = 'flex';
            
            // ìƒíƒœ ì—…ë°ì´íŠ¸
            updateStepIndicator(3);
            document.getElementById('data-size').textContent = '4.8GB';
            document.getElementById('team-count').textContent = '4ê°œ';
            document.getElementById('status').textContent = 'í˜‘ì—… ì¤‘';
            
            // ì§„í–‰ ë²„íŠ¼ í™œì„±í™”
            document.getElementById('proceed-btn').classList.remove('hidden');
            
            // í˜‘ì—… íˆìŠ¤í† ë¦¬ í‘œì‹œ
            document.querySelector('.collaboration-history').classList.add('show');
        }

        // ì»¬ëŸ¼ ê·¸ë£¹ í† ê¸€
        function toggleGroup(groupId) {
            const columnList = document.getElementById(groupId + '-columns');
            const icon = event.target.querySelector('.group-icon');
            
            if (columnList.style.display === 'none') {
                columnList.style.display = 'block';
                icon.classList.remove('collapsed');
            } else {
                columnList.style.display = 'none';
                icon.classList.add('collapsed');
            }
        }

        // ì»¬ëŸ¼ ì„ íƒ (ê¸°ë³¸)
        function selectColumn(name, type, group) {
            // ì´ì „ ì„ íƒ í•´ì œ
            document.querySelectorAll('.column-item').forEach(item => {
                item.classList.remove('selected');
            });
            
            // í˜„ì¬ í•­ëª© ì„ íƒ
            event.target.classList.add('selected');
            
            // ìƒì„¸ ì •ë³´ ì—…ë°ì´íŠ¸
            document.getElementById('selected-column-name').textContent = name;
            document.getElementById('column-type-detail').textContent = type;
            document.getElementById('column-group-detail').textContent = group;
            
            // ìƒ˜í”Œ ë°ì´í„° ì„¤ì •
            const sampleData = {
                'customer_id': 'C001, C002, C003...',
                'customer_name': 'ê¹€ì² ìˆ˜, ì´ì˜í¬, ë°•ë¯¼ìˆ˜...',
                'email': 'user@email.com, test@gmail.com...',
                'amount': '15000, 89000, 45000...',
                'purchase_date': '2024-01-15, 2024-01-16...'
            };
            document.getElementById('column-sample').textContent = sampleData[name] || 'ì˜ˆì‹œ ê°’ì´ í‘œì‹œë©ë‹ˆë‹¤';
            
            // ì•¡ì…˜ ì˜ì—­ í‘œì‹œ
            document.getElementById('column-info').style.display = 'flex';
            document.getElementById('column-actions').style.display = 'block';
            
            selectedColumnData = { name, type, group };
        }

        // íŒ€ë³„ ì»¬ëŸ¼ ì„ íƒ (ì—ì´ì „íŠ¸ ì •ë³´ í¬í•¨)
        function selectTeamColumn(name, type, group, agent) {
            selectColumn(name, type, group);
            selectedColumnData.agent = agent;
            
            // ì—ì´ì „íŠ¸ ì •ë³´ ì¶”ê°€ í‘œì‹œ
            const columnInfo = document.getElementById('column-info');
            const existingAgentInfo = columnInfo.querySelector('.agent-info');
            if (existingAgentInfo) {
                existingAgentInfo.remove();
            }
            
            const agentInfoDiv = document.createElement('div');
            agentInfoDiv.className = 'info-item agent-info';
            agentInfoDiv.innerHTML = `
                <div class="info-label">í™œìš© ê°€ëŠ¥ ì—ì´ì „íŠ¸</div>
                <div class="info-value agent-badge" onclick="showAgentPreview('${agent}')" style="cursor: pointer; color: #667eea; text-decoration: underline;">${agent}</div>
            `;
            columnInfo.appendChild(agentInfoDiv);
        }

        // ì—ì´ì „íŠ¸ ë¯¸ë¦¬ë³´ê¸° í‘œì‹œ
        function showAgentPreview(agentName) {
            const agentAnalysis = {
                'ê³ ê° ì„¸ê·¸ë©˜í…Œì´ì…˜ ì—ì´ì „íŠ¸': 'â€¢ ì—°ë ¹ëŒ€ë³„ ê³ ê° ê·¸ë£¹ ë¶„ë¥˜\nâ€¢ êµ¬ë§¤ íŒ¨í„´ ê¸°ë°˜ ì„¸ê·¸ë¨¼íŠ¸ ì˜ˆì¸¡\nâ€¢ ê³ ê° ê°€ì¹˜ ì ìˆ˜ ì‚°ì¶œ\nâ€¢ ë§ì¶¤í˜• ë§ˆì¼€íŒ… ìº í˜ì¸ ì¶”ì²œ',
                'ë¨¸ì‹ ëŸ¬ë‹ ëª¨ë¸ í•™ìŠµ ì—ì´ì „íŠ¸': 'â€¢ ë°ì´í„° ì „ì²˜ë¦¬ ë° ì •ê·œí™”\nâ€¢ ê¸°ê³„í•™ìŠµ ëª¨ë¸ í•™ìŠµ\nâ€¢ ì˜ˆì¸¡ ì •í™•ë„ í‰ê°€\nâ€¢ API ì—°ë™ì„ ìœ„í•œ ëª¨ë¸ ë°°í¬',
                'ë§¤ì¶œ ì˜ˆì¸¡ ì—ì´ì „íŠ¸': 'â€¢ ì›”ë³„/ë¶„ê¸°ë³„ ë§¤ì¶œ ì˜ˆì¸¡\nâ€¢ ê³„ì ˆì„± íŠ¸ë Œë“œ ë¶„ì„\nâ€¢ ì˜ˆìƒ ìˆ˜ìµì„± ê³„ì‚°\nâ€¢ ë¦¬ìŠ¤í¬ ìš”ì¸ ì‹ë³„ ë° ëŒ€ì‘ë°©ì•ˆ ì œì‹œ',
                'ë¦¬ë“œ ìŠ¤ì½”ì–´ë§ ì—ì´ì „íŠ¸': 'â€¢ ê³ ê° ì „í™˜ ê°€ëŠ¥ì„± ì ìˆ˜í™”\nâ€¢ ì˜ì—… ìš°ì„ ìˆœìœ„ ì¶”ì²œ\nâ€¢ ì ‘ì´‰ ì‹œì  ìµœì í™”\nâ€¢ ì„±ê³µ í™•ë¥  ê¸°ë°˜ ì „ëµ ìˆ˜ë¦½'
            };
            
            alert('í•´ë‹¹ ì—ì´ì „íŠ¸ì—ì„œ ìˆ˜í–‰ ê°€ëŠ¥í•œ ë¶„ì„:\n\n' + (agentAnalysis[agentName] || 'â€¢ ë°ì´í„° ê¸°ë°˜ ì¸ì‚¬ì´íŠ¸ ë„ì¶œ\nâ€¢ íŠ¹í™”ëœ ë¶„ì„ ë¦¬í¬íŠ¸ ìƒì„±\nâ€¢ ë¹„ì¦ˆë‹ˆìŠ¤ ì „ëµ ì¶”ì²œ'));
        }

        // ë¶„ì„ ë¯¸ë¦¬ë³´ê¸° í† ê¸€
        function togglePreview() {
            const tooltip = document.getElementById('preview-tooltip');
            tooltip.classList.toggle('show');
        }

        // ì‘ì—…ê³µê°„ìœ¼ë¡œ ë³´ë‚´ê¸°
        function sendToWorkspace() {
            if (!selectedColumnData) return;
            
            const selectedColumnsContainer = document.getElementById('selected-columns');
            const dropZone = document.getElementById('drop-zone');
            
            // ì´ë¯¸ ì¶”ê°€ëœ ì»¬ëŸ¼ì¸ì§€ í™•ì¸
            if (selectedColumns.find(col => col.name === selectedColumnData.name)) {
                alert('ì´ë¯¸ ì¶”ê°€ëœ ì»¬ëŸ¼ì…ë‹ˆë‹¤.');
                return;
            }
            
            selectedColumns.push(selectedColumnData);
            
            // ë“œë¡­ì¡´ ìˆ¨ê¸°ê¸°
            if (selectedColumns.length === 1) {
                dropZone.style.display = 'none';
            }
            
            // ì»¬ëŸ¼ ì¶”ê°€
            const columnElement = document.createElement('div');
            columnElement.className = 'selected-column';
            columnElement.innerHTML = `
                <div class="selected-column-info">
                    <div class="selected-column-name-small">${selectedColumnData.name}</div>
                    <div class="selected-column-source">${selectedColumnData.group}</div>
                </div>
                <button class="remove-column" onclick="removeColumn('${selectedColumnData.name}')">Ã—</button>
            `;
            
            selectedColumnsContainer.appendChild(columnElement);
            
            // ì¦ê°•ìš© ì»¬ëŸ¼ ì„ íƒ ì—…ë°ì´íŠ¸ (ìš”ì²­ ì…ë ¥ì´ ì„ íƒëœ ê²½ìš°)
            const requestOption = document.getElementById('request');
            if (requestOption && requestOption.checked) {
                updateColumnSelectionForAugment();
            }
        }

        // ì»¬ëŸ¼ ì œê±°
        function removeColumn(columnName) {
            selectedColumns = selectedColumns.filter(col => col.name !== columnName);
            
            // UI ì—…ë°ì´íŠ¸
            const selectedColumnsContainer = document.getElementById('selected-columns');
            selectedColumnsContainer.innerHTML = '';
            
            selectedColumns.forEach(col => {
                const columnElement = document.createElement('div');
                columnElement.className = 'selected-column';
                columnElement.innerHTML = `
                    <div class="selected-column-info">
                        <div class="selected-column-name-small">${col.name}</div>
                        <div class="selected-column-source">${col.group}</div>
                    </div>
                    <button class="remove-column" onclick="removeColumn('${col.name}')">Ã—</button>
                `;
                selectedColumnsContainer.appendChild(columnElement);
            });
            
            // ì»¬ëŸ¼ì´ ì—†ìœ¼ë©´ ë“œë¡­ì¡´ ë‹¤ì‹œ í‘œì‹œ
            if (selectedColumns.length === 0) {
                document.getElementById('drop-zone').style.display = 'flex';
            }
        }

        // ë³¸ì²´ ë°ì´í„° ì„ íƒ
        function selectMasterData() {
            // ë‹¤ë¥¸ ì„ íƒ í•´ì œ
            document.querySelectorAll('.team-request-card').forEach(card => {
                card.classList.remove('active');
            });
            
            // ë³¸ì²´ ë°ì´í„° ì„ íƒ í‘œì‹œ
            document.querySelector('.master-data-section').style.background = '#e0e7ff';
            document.querySelector('.master-data-section').style.borderColor = '#667eea';
            
            // ë¹ˆ ìƒíƒœ ìˆ¨ê¸°ê³  í¸ì§‘ ì˜ì—­ í‘œì‹œ
            document.getElementById('empty-state').style.display = 'none';
            document.getElementById('hybrid-editor').style.display = 'grid';
            resetCentralPanelToMaster();
            
            // í˜‘ì—… íˆìŠ¤í† ë¦¬ í‘œì‹œ
            document.querySelector('.collaboration-history').classList.add('show');
            
            console.log('Selected master data');
        }
        
        // íŒ€ ë°ì´í„° ì„ íƒ
        function selectTeamData(teamId) {
            // ë³¸ì²´ ë°ì´í„° ì„ íƒ í•´ì œ
            document.querySelector('.master-data-section').style.background = '#f8f9ff';
            document.querySelector('.master-data-section').style.borderColor = '#e0e7ff';
            
            document.querySelectorAll('.team-request-card').forEach(card => {
                card.classList.remove('active');
            });
            event.target.closest('.team-request-card').classList.add('active');
            
            // ë¹ˆ ìƒíƒœ ìˆ¨ê¸°ê³  í¸ì§‘ ì˜ì—­ í‘œì‹œ
            document.getElementById('empty-state').style.display = 'none';
            document.getElementById('hybrid-editor').style.display = 'grid';
            
            // íŒ€ë³„ë¡œ ì¤‘ì•™ íŒ¨ë„ì˜ ë°ì´í„° ëª©ë¡ ì—…ë°ì´íŠ¸
            updateCentralPanelForTeam(teamId);
            console.log('Selected team data:', teamId);
        }

        // íŒ€ë³„ë¡œ ì¤‘ì•™ íŒ¨ë„ ë°ì´í„° ì—…ë°ì´íŠ¸
        function updateCentralPanelForTeam(teamId) {
            const teamDataConfigs = {
                'marketing': {
                    title: 'ë§ˆì¼€íŒ…íŒ€ ë§ì¶¤ ë°ì´í„°',
                    subtitle: 'ê³ ê° ë¶„ì„ ë° ì„¸ê·¸ë©˜í…Œì´ì…˜ì„ ìœ„í•œ ë°ì´í„°ì…‹',
                    columns: [
                        { group: 'ê³ ê° ì •ë³´', name: 'customer_id', type: 'í…ìŠ¤íŠ¸(20)', agent: 'ê³ ê° ì„¸ê·¸ë©˜í…Œì´ì…˜ ì—ì´ì „íŠ¸' },
                        { group: 'ê³ ê° ì •ë³´', name: 'age_group', type: 'í…ìŠ¤íŠ¸(10)', agent: 'ì¸êµ¬í†µê³„ ë¶„ì„ ì—ì´ì „íŠ¸' },
                        { group: 'ê³ ê° ì •ë³´', name: 'region', type: 'í…ìŠ¤íŠ¸(50)', agent: 'ì§€ì—­ë³„ ë§ˆì¼€íŒ… ì—ì´ì „íŠ¸' },
                        { group: 'ê±°ë˜ ì •ë³´', name: 'purchase_date', type: 'ë‚ ì§œì‹œê°„', agent: 'êµ¬ë§¤ íŒ¨í„´ ë¶„ì„ ì—ì´ì „íŠ¸' },
                        { group: 'ê±°ë˜ ì •ë³´', name: 'product_category', type: 'í…ìŠ¤íŠ¸(50)', agent: 'ìƒí’ˆ ì¶”ì²œ ì—ì´ì „íŠ¸' }
                    ]
                },
                'dev': {
                    title: 'ê°œë°œíŒ€ ML í•™ìŠµìš© ë°ì´í„°',
                    subtitle: 'ë¨¸ì‹ ëŸ¬ë‹ ëª¨ë¸ í•™ìŠµ ë° ì˜ˆì¸¡ì„ ìœ„í•œ ë°ì´í„°ì…‹',
                    columns: [
                        { group: 'ê±°ë˜ ì •ë³´', name: 'transaction_id', type: 'í…ìŠ¤íŠ¸(20)', agent: 'ML ì „ì²˜ë¦¬ ì—ì´ì „íŠ¸' },
                        { group: 'ê±°ë˜ ì •ë³´', name: 'amount', type: 'ìˆ«ì(10,2)', agent: 'ê¸ˆì•¡ ì˜ˆì¸¡ ì—ì´ì „íŠ¸' },
                        { group: 'ê±°ë˜ ì •ë³´', name: 'payment_method', type: 'í…ìŠ¤íŠ¸(20)', agent: 'ê²°ì œ íŒ¨í„´ ë¶„ì„ ì—ì´ì „íŠ¸' },
                        { group: 'ê³ ê° ì •ë³´', name: 'customer_id', type: 'í…ìŠ¤íŠ¸(20)', agent: 'ê³ ê° í–‰ë™ ì˜ˆì¸¡ ì—ì´ì „íŠ¸' }
                    ]
                },
                'finance': {
                    title: 'ì¬ë¬´íŒ€ ë¦¬í¬íŠ¸ìš© ë°ì´í„°',
                    subtitle: 'ì›”ë³„ ì§‘ê³„ ë° ì¬ë¬´ ë¶„ì„ì„ ìœ„í•œ ë°ì´í„°ì…‹',
                    columns: [
                        { group: 'ê±°ë˜ ì •ë³´', name: 'amount', type: 'ìˆ«ì(10,2)', agent: 'ë§¤ì¶œ ì˜ˆì¸¡ ì—ì´ì „íŠ¸' },
                        { group: 'ê±°ë˜ ì •ë³´', name: 'purchase_date', type: 'ë‚ ì§œì‹œê°„', agent: 'íŠ¸ë Œë“œ ë¶„ì„ ì—ì´ì „íŠ¸' },
                        { group: 'ê±°ë˜ ì •ë³´', name: 'payment_method', type: 'í…ìŠ¤íŠ¸(20)', agent: 'ê²°ì œ ë¹„ìš© ìµœì í™” ì—ì´ì „íŠ¸' },
                        { group: 'ê³ ê° ì •ë³´', name: 'region', type: 'í…ìŠ¤íŠ¸(50)', agent: 'ì§€ì—­ë³„ ìˆ˜ìµì„± ì—ì´ì „íŠ¸' }
                    ]
                },
                'sales': {
                    title: 'ì˜ì—…íŒ€ ê³ ê° ë¶„ì„ìš© ë°ì´í„°',
                    subtitle: 'ê³ ê° ì„¸ê·¸ë¨¼íŠ¸ ë° ë¦¬ë“œ ìŠ¤ì½”ì–´ë§ì„ ìœ„í•œ ë°ì´í„°ì…‹',
                    columns: [
                        { group: 'ê³ ê° ì •ë³´', name: 'customer_name', type: 'í…ìŠ¤íŠ¸(100)', agent: 'ë¦¬ë“œ ìŠ¤ì½”ì–´ë§ ì—ì´ì „íŠ¸' },
                        { group: 'ê³ ê° ì •ë³´', name: 'email', type: 'VARCHAR(200)', agent: 'ì´ë©”ì¼ ë§ˆì¼€íŒ… ì—ì´ì „íŠ¸' },
                        { group: 'ê³ ê° ì •ë³´', name: 'phone', type: 'VARCHAR(15)', agent: 'ì½œ ì„¼í„° ì—ì´ì „íŠ¸' },
                        { group: 'ê±°ë˜ ì •ë³´', name: 'amount', type: 'ìˆ«ì(10,2)', agent: 'ê³ ê° ê°€ì¹˜ ë¶„ì„ ì—ì´ì „íŠ¸' }
                    ]
                }
            };

            const config = teamDataConfigs[teamId];
            if (!config) return;

            // ì¤‘ì•™ íŒ¨ë„ ì—…ë°ì´íŠ¸
            updateCentralPanelContent(config);
        }

        // ì¤‘ì•™ íŒ¨ë„ì„ ì›ë³¸ ë§ˆìŠ¤í„° ë°ì´í„°ë¡œ ë¦¬ì…‹
        function resetCentralPanelToMaster() {
            const treeTitle = document.querySelector('.tree-title');
            treeTitle.textContent = 'ë°ì´í„° ì»¬ëŸ¼ (4.8GB)';
            
            // ê¸°ì¡´ íŒ€ë³„ ê·¸ë£¹ ì œê±°
            document.querySelectorAll('.team-specific-group').forEach(group => group.remove());
            
            // ê¸°ë³¸ ê·¸ë£¹ë“¤ì„ ë‹¤ì‹œ í‘œì‹œ
            document.getElementById('customer-columns').style.display = 'block';
            document.getElementById('transaction-columns').style.display = 'block';
        }

        // ì¤‘ì•™ íŒ¨ë„ ì»¨í…ì¸  ì—…ë°ì´íŠ¸
        function updateCentralPanelContent(config) {
            const treeTitle = document.querySelector('.tree-title');
            
            // ì œëª© ì—…ë°ì´íŠ¸
            treeTitle.textContent = config.title;
            
            // ê¸°ë³¸ ê·¸ë£¹ë“¤ ìˆ¨ê¸°ê¸°
            document.getElementById('customer-columns').style.display = 'none';
            document.getElementById('transaction-columns').style.display = 'none';
            
            // ê¸°ì¡´ íŒ€ë³„ ê·¸ë£¹ ì œê±°
            document.querySelectorAll('.team-specific-group').forEach(group => group.remove());
            
            // ìƒˆë¡œìš´ ì»¨í…ì¸  ìƒì„±
            const columnTree = document.querySelector('.column-tree');
            
            const groupedColumns = config.columns.reduce((acc, col) => {
                if (!acc[col.group]) acc[col.group] = [];
                acc[col.group].push(col);
                return acc;
            }, {});
            
            Object.keys(groupedColumns).forEach(groupName => {
                const cols = groupedColumns[groupName];
                const groupElement = document.createElement('div');
                groupElement.className = 'column-group team-specific-group';
                groupElement.innerHTML = `
                    <div class="group-header" onclick="toggleGroup('team-${groupName.replace(/\\s/g, '')}')">
                        <span class="group-icon">â–¼</span>
                        <span class="group-name">${groupName} (${cols.length}ê°œ)</span>
                    </div>
                    <div class="column-list" id="team-${groupName.replace(/\\s/g, '')}-columns">
                        ${cols.map(col => `
                            <div class="column-item" onclick="selectTeamColumn('${col.name}', '${col.type}', '${col.group}', '${col.agent}')">
                                <div class="column-name">${col.name}</div>
                                <div class="column-type">${col.type.split('(')[0]}</div>
                            </div>
                        `).join('')}
                    </div>
                `;
                columnTree.appendChild(groupElement);
            });
        }

        // ë°ì´í„° ë‚´ë³´ë‚´ê¸°
        function exportData(format) {
            if (selectedColumns.length === 0) {
                alert('ë¨¼ì € ì»¬ëŸ¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
                return;
            }
            
            alert(`${format.toUpperCase()} í˜•ì‹ìœ¼ë¡œ ${selectedColumns.length}ê°œ ì»¬ëŸ¼ì„ ë‚´ë³´ëƒ…ë‹ˆë‹¤.`);
        }

        // í•©ì„± ë°ì´í„° ì˜µì…˜ ì„ íƒ
        function selectSyntheticOption(option) {
            const requestNotification = document.getElementById('requestNotification');
            const columnSelectionArea = document.getElementById('columnSelectionArea');
            
            if (option === 'request') {
                requestNotification.style.display = 'block';
                columnSelectionArea.style.display = 'block';
                updateColumnSelectionForAugment();
            } else {
                requestNotification.style.display = 'none';
                columnSelectionArea.style.display = 'none';
                document.getElementById('columnComments').innerHTML = '';
            }
        }

        // ì¦ê°•ìš© ì»¬ëŸ¼ ì„ íƒ ì—…ë°ì´íŠ¸
        function updateColumnSelectionForAugment() {
            const container = document.getElementById('selectedColumnsForAugment');
            container.innerHTML = '';
            
            if (selectedColumns.length === 0) {
                container.innerHTML = '<div style="color: #8e8e93; font-size: 12px; padding: 8px;">ë¨¼ì € ì¢Œì¸¡ì—ì„œ ì»¬ëŸ¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”.</div>';
                return;
            }
            
            selectedColumns.forEach((column, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'augment-column-option';
                optionDiv.innerHTML = `
                    <input type="checkbox" id="augment-${index}" onchange="toggleColumnComment('${column.name}', ${index})">
                    <label for="augment-${index}">${column.name} (${column.type})</label>
                `;
                container.appendChild(optionDiv);
            });
        }

        // ì»¬ëŸ¼ë³„ ì½”ë©˜íŠ¸ í† ê¸€
        function toggleColumnComment(columnName, index) {
            const checkbox = document.getElementById(`augment-${index}`);
            const commentId = `comment-${index}`;
            const commentContainer = document.getElementById('columnComments');
            let commentItem = document.getElementById(commentId);
            
            if (checkbox.checked) {
                if (!commentItem) {
                    commentItem = document.createElement('div');
                    commentItem.id = commentId;
                    commentItem.className = 'column-comment-item';
                    commentItem.innerHTML = `
                        <div class="column-comment-title">${columnName} ì¦ê°• ìš”ì²­</div>
                        <textarea class="column-comment-textarea" placeholder="ì´ ì»¬ëŸ¼ì— ëŒ€í•œ êµ¬ì²´ì ì¸ ë°ì´í„° ì¦ê°• ìš”ì²­ì‚¬í•­ì„ ì…ë ¥í•´ì£¼ì„¸ìš”..."></textarea>
                    `;
                    commentContainer.appendChild(commentItem);
                }
                commentItem.classList.add('show');
            } else {
                if (commentItem) {
                    commentItem.classList.remove('show');
                    setTimeout(() => {
                        if (commentItem && !commentItem.classList.contains('show')) {
                            commentItem.remove();
                        }
                    }, 300);
                }
            }
        }

        // ë°ì´í„° ìƒì„± í•¨ìˆ˜
        function generateData() {
            const requestOption = document.getElementById('request');
            
            if (requestOption && requestOption.checked) {
                // ìš”ì²­ ì…ë ¥ì´ ì„ íƒëœ ê²½ìš° ë°ì´í„° ì¦ê°• ìƒíƒœë¡œ ë³€ê²½
                // ìƒˆë¡œìš´ íŒ€ë³„ ë°ì´í„° ìš”ì²­ì„ ì™¼ìª½ íŒ¨ë„ì— ì¶”ê°€ (ì¦ê°• ìƒíƒœ)
                addAugmentingTeamDataRequest(selectedColumns);
            } else {
                // ì¼ë°˜ì ì¸ íŒ€ ë°ì´í„°ì…‹ ìƒì„± ë¡œì§
                createTeamDataset();
            }
        }

        // ë°ì´í„° ì¦ê°• ì¤‘ì¸ íŒ€ë³„ ë°ì´í„° ìš”ì²­ ì¶”ê°€
        function addAugmentingTeamDataRequest(columns) {
            const teamRequestsContainer = document.querySelector('.team-requests');
            const newRequestId = 'augmenting-request-' + Date.now();
            
            const newRequestCard = document.createElement('div');
            newRequestCard.className = 'team-request-card new-request augmenting';
            newRequestCard.style.border = '2px solid #ff9500';
            newRequestCard.style.backgroundColor = 'linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%)';
            newRequestCard.onclick = () => selectTeamData(newRequestId);
            
            newRequestCard.innerHTML = `
                <div class="team-info">
                    <div class="team-avatar" style="background: #ff9500;">ğŸ§ª</div>
                    <div class="team-name">ë°ì´í„° ì¦ê°• ìš”ì²­</div>
                </div>
                <div class="request-purpose">í•©ì„± ë°ì´í„° ìƒì„± ì¤‘</div>
                <div class="request-details">
                    <div class="data-format">ì¦ê°• ì§„í–‰ ì¤‘</div>
                    <div class="augmenting-text" style="position: static; transform: none; background: #ff9500; margin-top: 8px;">ë°ì´í„° ì¦ê°• ì¤‘</div>
                </div>
            `;
            
            // ë§¨ ìœ„ì— ì¶”ê°€
            teamRequestsContainer.insertBefore(newRequestCard, teamRequestsContainer.firstChild);
            
            alert('ë°ì´í„° ì¦ê°• ìš”ì²­ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.\nì¢Œì¸¡ ë°ì´í„° íƒìƒ‰ê¸°ì—ì„œ ì§„í–‰ ìƒí™©ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.');
        }

        // íŒ€ ë°ì´í„°ì…‹ ìƒì„±
        function createTeamDataset() {
            if (selectedColumns.length === 0) {
                alert('ë¨¼ì € ì»¬ëŸ¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
                return;
            }
            
            // ìƒˆë¡œìš´ íŒ€ë³„ ë°ì´í„° ìš”ì²­ì„ ì™¼ìª½ íŒ¨ë„ì— ì¶”ê°€
            addTeamDataRequest(selectedColumns);
            
            alert(`${selectedColumns.length}ê°œ ì»¬ëŸ¼ìœ¼ë¡œ íŒ€ ë°ì´í„°ì…‹ì„ ìƒì„±í–ˆìŠµë‹ˆë‹¤.\ní¬í•¨ëœ ì»¬ëŸ¼: ${selectedColumns.map(col => col.name).join(', ')}\n\nìƒˆë¡œìš´ íŒ€ë³„ ë°ì´í„° ìš”ì²­ì´ ì™¼ìª½ íŒ¨ë„ì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.`);
        }

        // íŒ€ë³„ ë°ì´í„° ìš”ì²­ ì¶”ê°€
        function addTeamDataRequest(columns) {
            const teamRequestsContainer = document.querySelector('.team-requests');
            const newRequestId = 'new-request-' + Date.now();
            
            const newRequestCard = document.createElement('div');
            newRequestCard.className = 'team-request-card new-request';
            newRequestCard.style.border = '2px solid #667eea';
            newRequestCard.style.backgroundColor = '#f8f9ff';
            newRequestCard.onclick = () => selectTeamData(newRequestId);
            
            newRequestCard.innerHTML = `
                <div class="team-info">
                    <div class="team-avatar" style="background: #667eea;">ğŸ“Š</div>
                    <div class="team-name">ìƒˆ ë°ì´í„° ìš”ì²­</div>
                    <div class="priority-badge priority-high">New</div>
                </div>
                <div class="request-purpose">ë°©ê¸ˆ ìƒì„±í•œ ë§ì¶¤ ë°ì´í„°ì…‹ (${columns.length}ê°œ ì»¬ëŸ¼)</div>
                <div class="request-details">
                    <div class="data-format">ë§ì¶¤í˜•</div>
                </div>
            `;
            
            // ë§¨ ìœ„ì— ì¶”ê°€
            teamRequestsContainer.insertBefore(newRequestCard, teamRequestsContainer.firstChild);
            
            // 5ì´ˆ í›„ ì¼ë°˜ ìŠ¤íƒ€ì¼ë¡œ ë³€ê²½
            setTimeout(() => {
                newRequestCard.style.border = '1px solid #e9ecef';
                newRequestCard.style.backgroundColor = 'white';
            }, 5000);
        }

        // ì»¬ëŸ¼ ì´ë¦„ ë³€ê²½
        function renameColumn() {
            if (!selectedColumnData) return;
            
            const newName = prompt('ìƒˆë¡œìš´ ì»¬ëŸ¼ëª…ì„ ì…ë ¥í•˜ì„¸ìš”:', selectedColumnData.name);
            if (newName && newName !== selectedColumnData.name) {
                document.getElementById('selected-column-name').textContent = newName;
                selectedColumnData.name = newName;
                alert('ì»¬ëŸ¼ëª…ì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.');
            }
        }

        // ë°ì´í„° ë³€í™˜ ì„¤ì •
        function setTransform(type) {
            document.querySelectorAll('.action-group:nth-child(2) .action-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            console.log('Transform type set:', type);
        }

        // ì ‘ê·¼ ê¶Œí•œ ì„¤ì •
        function setAccess(level) {
            document.querySelectorAll('.action-group:nth-child(3) .action-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            console.log('Access level set:', level);
        }

        // ì—ì´ì „íŠ¸ ë¶„ì„ìœ¼ë¡œ ì§„í–‰
        function proceedToAnalysis() {
            if (confirm('í˜‘ì—… ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì„¤ì •ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.\nì—ì´ì „íŠ¸ ë¶„ì„ ë‹¨ê³„ë¡œ ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                updateStepIndicator(4);
                alert('Step 4 (ì—ì´ì „íŠ¸ ë¶„ì„) ë‹¨ê³„ë¡œ ì§„í–‰í•©ë‹ˆë‹¤.\n\ní˜‘ì—… ì™„ë£Œ ê²°ê³¼:\n- ì„ íƒëœ ê°œì¸ ì»¬ëŸ¼: ' + selectedColumns.length + 'ê°œ\n- íŒ€ë³„ ë°ì´í„° ìš”ì²­ ì²˜ë¦¬ ì™„ë£Œ\n- í˜‘ì—… íˆìŠ¤í† ë¦¬ ê¸°ë¡ ì™„ë£Œ');
            }
        }

        // ë“œë˜ê·¸ ì•¤ ë“œë¡­ ì§€ì› (í–¥í›„ êµ¬í˜„)
        document.addEventListener('DOMContentLoaded', function() {
            const dropZone = document.getElementById('drop-zone');
            
            dropZone.addEventListener('dragover', function(e) {
                e.preventDefault();
                dropZone.classList.add('dragover');
            });
            
            dropZone.addEventListener('dragleave', function(e) {
                dropZone.classList.remove('dragover');
            });
            
            dropZone.addEventListener('drop', function(e) {
                e.preventDefault();
                dropZone.classList.remove('dragover');
                // ë“œë¡­ ì²˜ë¦¬ ë¡œì§ì€ ì¶”í›„ êµ¬í˜„
            });
            
            // ì´ˆê¸° ìƒíƒœ ì„¤ì •
            updateStepIndicator(1);
        });
        
        // íŒ€ ë°ì´í„° ì „ì²´ ìš”ì²­
        function requestTeamData(event, teamId) {
            event.stopPropagation(); // ë¶€ëª¨ í´ë¦­ ì´ë²¤íŠ¸ ë°©ì§€
            
            const teamNames = {
                'marketing': 'ë§ˆì¼€íŒ…íŒ€',
                'dev': 'ê°œë°œíŒ€', 
                'finance': 'ì¬ë¬´íŒ€',
                'sales': 'ì˜ì—…íŒ€'
            };
            
            const teamName = teamNames[teamId] || teamId;
            
            // íˆìŠ¤í† ë¦¬ì— ìƒˆ í•­ëª© ì¶”ê°€ ì‹œë®¬ë ˆì´ì…˜
            alert(`${teamName}ì—ì„œ ë°ì´í„° ê³µìœ  ìš”ì²­ì´ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤.\n\nìš”ì²­ ë‚´ìš©ì´ í•˜ë‹¨ í˜‘ì—… íˆìŠ¤í† ë¦¬ì— ê¸°ë¡ë©ë‹ˆë‹¤.\nìŠ¹ì¸/ê±°ì ˆì„ í†µí•´ í˜‘ì—…ì„ ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.`);
            
            // í˜‘ì—… íˆìŠ¤í† ë¦¬ í‘œì‹œ
            document.querySelector('.collaboration-history').classList.add('show');
            
            console.log('Team data requested:', teamId);
        }
        
        // ë¶„ì„ ë¯¸ë¦¬ë³´ê¸° íŒì—… í‘œì‹œ
        function showAnalysisPopup() {
            document.getElementById('analysis-popup').style.display = 'flex';
        }
        
        // ë¶„ì„ ë¯¸ë¦¬ë³´ê¸° íŒì—… ë‹«ê¸°
        function closeAnalysisPopup() {
            document.getElementById('analysis-popup').style.display = 'none';
        }
        
        // íŒì—… ë°°ê²½ í´ë¦­ ì‹œ ë‹«ê¸°
        document.addEventListener('click', function(event) {
            const popup = document.getElementById('analysis-popup');
            if (event.target === popup) {
                closeAnalysisPopup();
            }
        });
    </script>
</body>
</html>